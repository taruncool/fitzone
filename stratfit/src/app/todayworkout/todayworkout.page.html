<ion-header class=" head" *ngIf='!(planComplete || renewPlan)'>
  <ion-toolbar class="hedfm"> 
    <ion-buttons  slot="start" >
      <ion-button slot="icon-only"(click)='backButtonAction()'>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.028 56">
            <path id="Back" d="M60.048,61.921a1.981,1.981,0,0,0,2.8,0,1.981,1.981,0,0,0,0-2.8L38.228,34.5,62.848,9.879a1.98,1.98,0,0,0-2.8-2.8L33.979,33.1a1.981,1.981,0,0,0,0,2.8Z" transform="translate(-33.4 -6.5)"/>
          </svg>
      </ion-button>
    </ion-buttons>

    <ion-title><!--span><em *ngIf="!(planInfo.durationWeeks==='null')">{{planInfo.durationWeeks}} Weeks -</em> {{planInfo.planType}}</span-->{{planInfo.planName}}</ion-title>

    <ion-buttons  slot="end"  >
      <ion-button slot="icon-only" class="info" (click)='showPlanDetails()'>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60.001" >
                <g id="Information" transform="translate(-961.535 -2448.597)">
                    <g id="Path_256" data-name="Path 256" transform="translate(958.135 2444.998)" fill="none">
                    <path d="M33.423,60.6A27,27,0,1,0,6.4,33.6,27.008,27.008,0,0,0,33.423,60.6Z" stroke="none"/>
                    <path class="cls-1" d="M 33.42325973510742 60.60013580322266 C 48.30698013305664 60.60013580322266 60.40000152587891 48.49665832519531 60.40000152587891 33.60006713867188 C 60.40000152587891 18.70348739624023 48.30698013305664 6.600007057189941 33.42325973510742 6.600007057189941 C 18.53953170776367 6.600007057189941 6.400001525878906 18.70348739624023 6.400001525878906 33.60006713867188 C 6.400001525878906 48.49665832519531 18.53953170776367 60.60013580322266 33.42325973510742 60.60013580322266 M 33.42325973510742 63.60013580322266 C 16.86838150024414 63.60013580322266 3.400001525878906 50.14215850830078 3.400001525878906 33.60006713867188 C 3.400001525878906 17.0579776763916 16.86838150024414 3.600007057189941 33.42325973510742 3.600007057189941 C 37.46554183959961 3.600007057189941 41.39013290405273 4.394607067108154 45.08803176879883 5.961737155914307 C 48.65693283081055 7.474206924438477 51.86236190795898 9.638127326965332 54.61526107788086 12.39341735839844 C 57.36799240112305 15.14852714538574 59.52986145019531 18.35639762878418 61.04083251953125 21.92793655395508 C 62.60626220703125 25.62821769714355 63.40000152587891 29.5552864074707 63.40000152587891 33.60006713867188 C 63.40000152587891 37.64484786987305 62.60626220703125 41.57191848754883 61.04083251953125 45.27219772338867 C 59.52986145019531 48.8437385559082 57.36799240112305 52.05161666870117 54.61526107788086 54.80672836303711 C 51.86236190795898 57.56201553344727 48.65693283081055 59.72593688964844 45.08803176879883 61.23840713500977 C 41.39014053344727 62.80553817749023 37.46554183959961 63.60013580322266 33.42325973510742 63.60013580322266 Z" stroke="none"/>
                    </g>
                    <path id="Union_4" data-name="Union 4" d="M-4979.315,16966.324a1.738,1.738,0,0,1-1.758-1.76,1.737,1.737,0,0,1,1.758-1.758h4.028v-13.725h-4.028a1.737,1.737,0,0,1-1.758-1.758,1.737,1.737,0,0,1,1.758-1.758h5.744a1.737,1.737,0,0,1,1.758,1.758v15.482h4.033a1.737,1.737,0,0,1,1.758,1.758,1.738,1.738,0,0,1-1.758,1.76Zm.558-26.508a2.825,2.825,0,0,1,2.828-2.826,3.45,3.45,0,0,1,.753.1,2.747,2.747,0,0,1,2.078,2.729,2.83,2.83,0,0,1-2.832,2.832A2.826,2.826,0,0,1-4978.758,16939.816Z" transform="translate(5966.159 -14473.979)" />
                </g>
            </svg>
      </ion-button>
    </ion-buttons>
  </ion-toolbar> 

</ion-header>

<ion-content class=" workout" #pageTopWorkout>
  
  <!--Today's Session Details-->
  <div  *ngIf='!isRestDay'>
  <!-- Plan Complete Workout Section-->

    <ion-row class="periods" >
        <ion-col size="6" >{{currentDate | date}}</ion-col>
        <ion-col size="2" class="posrel">
          <span>{{dayName}}</span>
            
            <svg xmlns="http://www.w3.org/2000/svg" class="posabs"  viewBox="0 0 20.195 37.752">
              <path id="Path_8538" data-name="Path 8538" d="M37.366,19.8a1.335,1.335,0,0,1-1.886,0L18.894,3.187,2.276,19.8A1.334,1.334,0,0,1,.39,17.918L17.919.39A1.3,1.3,0,0,1,18.862,0,1.358,1.358,0,0,1,19.8.39L37.333,17.918A1.307,1.307,0,0,1,37.366,19.8Z" transform="translate(20.195) rotate(90)" />
            </svg>
            
        </ion-col>
        <ion-col size="4" >
          <span>{{activeSessionName}} / {{planSessions.length}}</span>

      </ion-col>
        
       
    </ion-row> <!--End Period *** Date, Days & Session -->
     <!-- General Warmup -->
    <div class="genwamup" *ngIf='generalWarmupCompleted=="false"'>

      <div class="text-center adtitle">
        <h1 >General Warmup</h1>
      </div> 

      <ion-card class=" active">
        <!-- <ion-item class="genset  nopad nobg">
          <ion-avatar  slot="start">
            <img src="assets/images/plan_2.png">
          </ion-avatar>
          <div class="gentitl">
            <h3>Title</h3>
            <span>3 mins</span>
          </div>
          <div class="genreps" slot="end">10 Reps</div>
        </ion-item> -->
          
        <ion-item class="genview nopad nobg">
          <video webkit-playsinline playsinline controls controlsList="nodownload" src="http://stratfit.net/newExVideo/warmup.mp4"
            poster="assets/images/plan_2.png">
          </video>
        </ion-item>
      </ion-card>

      <div class="fulpad"><p [innerHTML]="genWarmupMsg"></p></div>
    
      <div class=" fulpad setbotm">
        <ion-button expand="block" (click)='generalWarmupDone()'>Done</ion-button>
      </div>
    </div><!--End General Warmup -->

    <!--Cool Down-->
    <div class="genwamup  " *ngIf='cooldown && cooldownCompleted == "false"'>
      <div class="titl">
        <h3>Cooldown Excercises</h3>
      </div>

      <ion-card class=" active" >
        <ion-item class="genview nopad nobg">
          <video webkit-playsinline playsinline controls controlsList="nodownload" src="http://stratfit.net/newExVideo/warmup.mp4" 
          poster="assets/images/plan_2.png">
          </video>
            
        </ion-item>
      </ion-card>
      
      <div class="fulpad"><p [innerHTML]="cooldownMsg"></p></div>

      <div class="fulpad setbotm">
        <ion-button expand="block" (click)='cooldownDone()'> Done </ion-button>
      </div>
      
    </div> <!--End Cool Down-->
    

    <div class="fulpad " [hidden]='(warmup && generalWarmupCompleted=="false") || (cooldown && cooldownCompleted=="false")' >
      <div class="text-center adtitle">
        <!--<span>Activity 1</span>-->
        <!--<div class="exe">
          <ion-avatar [ngClass]="{'active': activity.activity_id == currentActivityId}" *ngFor="let activity of planActivity; let i = index"  > 
              <span [ngClass]="{'active': activity.activity_id == currentActivityId}" *ngFor="let activity of planActivity; let i = index">Activity {{i+1}}</span>
          </ion-avatar>
              
        </div>-->
        <div class="tbactive" >
          <ul>
            <li [ngClass]="{'active': activity.activity_id == currentActivityId}" *ngFor="let activity of planActivity; let i = index">Activity {{i+1}}</li>
          </ul>
        </div>
        <div class="tbactive" *ngIf="!isActivitySimple">
          <ul>
            <li [ngClass]="{'active': round.round_id == currentRoundId}" *ngFor="let round of planRounds; let i = index"> Round {{i+1}}</li>
          </ul>
        </div>
        <h1 *ngIf="actionType == 'warmup'">Warmup</h1>
        <h1 *ngIf="actionType == 'MainSet'">Workout</h1>
      </div> 

      <div class="workview" *ngIf="isActivitySimple">
        <ion-list class="sbsd sbgw setlist" [ngClass]="{'active': round.round_id == currentRoundId}" *ngFor="let round of planRounds; let i = index">
            <h3>Set {{i+1}}</h3>
            <ion-row >
              
              <ion-avatar (click)="openExercise(exDetails)">
                <img src="{{exDetails.exImgNew}}" (error)="onExImageError(exDetails)">
                  <div class="play sm ">  
                      <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 109 109" >
                          <g id="Play" transform="translate(3 3)">
                              <path d="M 56.44305801391602 106.6000900268555 C 84.00550842285156 106.6000900268555 106.3999938964844 84.18628692626953 106.3999938964844 56.60005569458008 C 106.3999938964844 29.01382446289063 84.00550842285156 6.600009441375732 56.44305801391602 6.600009441375732 C 28.88061332702637 6.600009441375732 6.400012969970703 29.01382446289063 6.400012969970703 56.60005569458008 C 6.400012969970703 84.18628692626953 28.88061332702637 106.6000900268555 56.44305801391602 106.6000900268555 M 56.44305801391602 109.6000900268555 C 27.19502830505371 109.6000900268555 3.400013208389282 85.82437896728516 3.400013208389282 56.60005569458008 C 3.400013208389282 27.375732421875 27.19502830505371 3.600009679794312 56.44305801391602 3.600009679794312 C 63.58427429199219 3.600009679794312 70.51654815673828 5.003332614898682 77.04731750488281 7.77100944519043 C 83.35208892822266 10.44290161132813 89.01530456542969 14.26622486114502 93.87967681884766 19.13479423522949 C 98.74387359619141 24.0031795501709 102.563720703125 29.67097854614258 105.2331237792969 35.98073196411133 C 107.9980621337891 42.51633453369141 109.3999938964844 49.45367050170898 109.3999938964844 56.60005569458008 C 109.3999938964844 63.74644088745117 107.9980621337891 70.68377685546875 105.2331237792969 77.21937561035156 C 102.563720703125 83.52912902832031 98.74387359619141 89.19692993164063 93.87967681884766 94.06531524658203 C 89.01530456542969 98.93386840820313 83.35208892822266 102.757209777832 77.04731750488281 105.429084777832 C 70.51654815673828 108.1967620849609 63.58427429199219 109.6000900268555 56.44305801391602 109.6000900268555 Z" stroke="none" fill="none"/>
                              <path id="Path_257" data-name="Path 257" d="M0,31.841H40.145L20.078,0Z" transform="translate(70.555 29.921) rotate(90)" fill="#fff" fill-rule="evenodd"/>
                          </g>
                      </svg>
                  
                  </div>
              </ion-avatar>
              
                
              <ion-col class="posrel" >
                <h4>Set {{i+1}}</h4>
                <div class="posabs" *ngIf="round.repsdone > 0">{{round.repsdone}} Reps</div>
                <div class="posabs" *ngIf="round.repsdone == 0">{{round.prescribed_reps}} Reps</div>
                <h4>{{exDetails.exerciseName}}</h4>
                <ion-row class="infild">
                  <ion-col size="6">
                    <h6>Work Weight</h6> 
                    <ion-item class="adbor nobg"> 
                      <span>{{simpleActions.workweight}} Kg </span>
                      <svg id="Tmax-Edit" (click)="tmaxShowPreview(exDetails,exDetails.exerciseName,simpleActions.tmax,simpleActions.workweight,simpleActions.intensity,'Kg')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                        <path id="Path_256" data-name="Path 256" d="M38.428,70.6A32,32,0,1,0,6.4,38.6,32.009,32.009,0,0,0,38.428,70.6Z" transform="translate(-6.4 -6.6)" fill="#080c14"/>
                        <path id="icons8-edit" d="M28.827,2a3.169,3.169,0,0,0-2.242.937l-.53.53,4.485,4.484.53-.53A3.179,3.179,0,0,0,28.827,2ZM25.056,4.629a.656.656,0,0,0-.387.2L3.508,26.008a.665.665,0,0,0-.183.285l-1.3,4.891a.653.653,0,0,0,.8.795l4.893-1.3a.665.665,0,0,0,.285-.183L29.173,9.337a.656.656,0,1,0-.917-.937L7.2,29.452,4.548,26.8,25.606,5.75a.652.652,0,0,0-.489-1.121Z" transform="translate(15.001 15.001)" fill="#fff"/>
                      </svg>
                      
                    </ion-item>
                    <div class="tmaxval">{{simpleActions.intensity}}% of Tmax <em>({{simpleActions.tmax}} Kg)</em></div>
                  </ion-col>
                  <ion-col size="6">
                    <h6>Reps</h6>
                    <ion-item class="adbor nobg selarow" (click)="selectANumber()"> 
                      <span >{{repscount}}</span>
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.994 22.999">
                        <path id="Path_282" data-name="Path 282" d="M42.554.444a1.52,1.52,0,0,0-2.148,0L21.518,19.369,2.592.444A1.519,1.519,0,1,0,.444,2.592L20.406,22.555A1.483,1.483,0,0,0,21.481,23a1.546,1.546,0,0,0,1.074-.444L42.517,2.592A1.488,1.488,0,0,0,42.554.444Z" />
                      </svg>
                      
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-col>
            
            </ion-row>

          
            <div class="setdone">
              <ion-button [disabled]="isDoneDisabled" (click)="actionComplete(repscount,simpleActions.tmax,simpleActions.intensity,simpleActions.workweight, i)" > 
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38.535 26.569">
                  <path id="Tick" d="M79.291,45.012a2.325,2.325,0,0,0-3.144,0L53.922,65.971l-8.727-8.21a2.325,2.325,0,0,0-3.144,0,2.006,2.006,0,0,0,0,2.958L52.3,70.357a2.242,2.242,0,0,0,1.572.612,2.339,2.339,0,0,0,1.572-.612l23.8-22.387A1.966,1.966,0,0,0,79.291,45.012Z" transform="translate(-41.4 -44.4)" />
              </svg>   
              </ion-button>
            </div>
            
          

        </ion-list>

        <!--<ion-list class="sbsd sbgw setlist ">
          <ion-row >
            <ion-avatar (click)="openExercise(exDetails)">
              <img src="{{exDetails.exImgNew}}" (error)="onExImageError(exDetails)">
                <div class="play sm ">  
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 109 109" >
                        <g id="Play" transform="translate(3 3)">
                            <path d="M 56.44305801391602 106.6000900268555 C 84.00550842285156 106.6000900268555 106.3999938964844 84.18628692626953 106.3999938964844 56.60005569458008 C 106.3999938964844 29.01382446289063 84.00550842285156 6.600009441375732 56.44305801391602 6.600009441375732 C 28.88061332702637 6.600009441375732 6.400012969970703 29.01382446289063 6.400012969970703 56.60005569458008 C 6.400012969970703 84.18628692626953 28.88061332702637 106.6000900268555 56.44305801391602 106.6000900268555 M 56.44305801391602 109.6000900268555 C 27.19502830505371 109.6000900268555 3.400013208389282 85.82437896728516 3.400013208389282 56.60005569458008 C 3.400013208389282 27.375732421875 27.19502830505371 3.600009679794312 56.44305801391602 3.600009679794312 C 63.58427429199219 3.600009679794312 70.51654815673828 5.003332614898682 77.04731750488281 7.77100944519043 C 83.35208892822266 10.44290161132813 89.01530456542969 14.26622486114502 93.87967681884766 19.13479423522949 C 98.74387359619141 24.0031795501709 102.563720703125 29.67097854614258 105.2331237792969 35.98073196411133 C 107.9980621337891 42.51633453369141 109.3999938964844 49.45367050170898 109.3999938964844 56.60005569458008 C 109.3999938964844 63.74644088745117 107.9980621337891 70.68377685546875 105.2331237792969 77.21937561035156 C 102.563720703125 83.52912902832031 98.74387359619141 89.19692993164063 93.87967681884766 94.06531524658203 C 89.01530456542969 98.93386840820313 83.35208892822266 102.757209777832 77.04731750488281 105.429084777832 C 70.51654815673828 108.1967620849609 63.58427429199219 109.6000900268555 56.44305801391602 109.6000900268555 Z" stroke="none" fill="none"/>
                            <path id="Path_257" data-name="Path 257" d="M0,31.841H40.145L20.078,0Z" transform="translate(70.555 29.921) rotate(90)" fill="#fff" fill-rule="evenodd"/>
                        </g>
                    </svg>
                
                </div>
            </ion-avatar>
            
              
            <ion-col class="posrel" >
              <h4>Set 2</h4>
              <div class="posabs">{{repscount}} Reps</div>
              <h4>{{exDetails.exerciseName}}</h4>
            </ion-col>
          
          </ion-row>       
      </ion-list>-->
          

      </div><!--End Simple Workout -->

      <div class="workview" *ngIf="!isActivitySimple">
        <ion-list class="sbsd sbgw cmplxactive setlist" >
          <!--<h3>Set {{i+1}}</h3>-->
          <ion-row class="admb-2"  *ngFor="let action of complexActions; let i = index">
            
            <ion-avatar (click)="openExercise(exDetailsComplex[i])">
              <img src="{{action.ExerciseThumbImage}}" (error)="onComplexExImageError(action)">
                <div class="play sm">  
                    <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 109 109" >
                        <g id="Play" transform="translate(3 3)">
                            <path d="M 56.44305801391602 106.6000900268555 C 84.00550842285156 106.6000900268555 106.3999938964844 84.18628692626953 106.3999938964844 56.60005569458008 C 106.3999938964844 29.01382446289063 84.00550842285156 6.600009441375732 56.44305801391602 6.600009441375732 C 28.88061332702637 6.600009441375732 6.400012969970703 29.01382446289063 6.400012969970703 56.60005569458008 C 6.400012969970703 84.18628692626953 28.88061332702637 106.6000900268555 56.44305801391602 106.6000900268555 M 56.44305801391602 109.6000900268555 C 27.19502830505371 109.6000900268555 3.400013208389282 85.82437896728516 3.400013208389282 56.60005569458008 C 3.400013208389282 27.375732421875 27.19502830505371 3.600009679794312 56.44305801391602 3.600009679794312 C 63.58427429199219 3.600009679794312 70.51654815673828 5.003332614898682 77.04731750488281 7.77100944519043 C 83.35208892822266 10.44290161132813 89.01530456542969 14.26622486114502 93.87967681884766 19.13479423522949 C 98.74387359619141 24.0031795501709 102.563720703125 29.67097854614258 105.2331237792969 35.98073196411133 C 107.9980621337891 42.51633453369141 109.3999938964844 49.45367050170898 109.3999938964844 56.60005569458008 C 109.3999938964844 63.74644088745117 107.9980621337891 70.68377685546875 105.2331237792969 77.21937561035156 C 102.563720703125 83.52912902832031 98.74387359619141 89.19692993164063 93.87967681884766 94.06531524658203 C 89.01530456542969 98.93386840820313 83.35208892822266 102.757209777832 77.04731750488281 105.429084777832 C 70.51654815673828 108.1967620849609 63.58427429199219 109.6000900268555 56.44305801391602 109.6000900268555 Z" stroke="none" fill="none"/>
                            <path id="Path_257" data-name="Path 257" d="M0,31.841H40.145L20.078,0Z" transform="translate(70.555 29.921) rotate(90)" fill="#fff" fill-rule="evenodd"/>
                        </g>
                    </svg>
                
                </div>
            </ion-avatar>

            <ion-col class="posrel" >
              <!--<h4>Set {{i+1}}</h4>-->
              <!--<div class="posabs">{{action.reps}} Reps</div>-->
              <h4>{{action.exerciseName}}</h4>

              <ion-row class="infildcmplx">
                <ion-col size="6">
                  <h6>Work Weight</h6> 
                  <ion-item class="adbor nobg"> 
                    <span>{{action.workweight}} Kg </span>
                    
                    <svg id="Tmax-Edit" (click)="tmaxShowPreview(exDetailsComplex[i],action.exerciseName,action.tmax,action.workweight,action.intensity,'Kg')" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                      <path id="Path_256" data-name="Path 256" d="M38.428,70.6A32,32,0,1,0,6.4,38.6,32.009,32.009,0,0,0,38.428,70.6Z" transform="translate(-6.4 -6.6)" fill="#080c14"/>
                      <path id="icons8-edit" d="M28.827,2a3.169,3.169,0,0,0-2.242.937l-.53.53,4.485,4.484.53-.53A3.179,3.179,0,0,0,28.827,2ZM25.056,4.629a.656.656,0,0,0-.387.2L3.508,26.008a.665.665,0,0,0-.183.285l-1.3,4.891a.653.653,0,0,0,.8.795l4.893-1.3a.665.665,0,0,0,.285-.183L29.173,9.337a.656.656,0,1,0-.917-.937L7.2,29.452,4.548,26.8,25.606,5.75a.652.652,0,0,0-.489-1.121Z" transform="translate(15.001 15.001)" fill="#fff"/>
                    </svg>
                    
                  </ion-item>
                  <div class="tmaxval">{{action.intensity}}% of Tmax <em>({{action.tmax}} Kg)</em></div>
                </ion-col>
                <ion-col size="6">
                  <h6>Reps</h6>
                  <ion-item class="adbor nobg selarow" (click)="selectANumberComplex(action)"> 
                    <span >{{action.reps}}</span>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 42.994 22.999">
                      <path id="Path_282" data-name="Path 282" d="M42.554.444a1.52,1.52,0,0,0-2.148,0L21.518,19.369,2.592.444A1.519,1.519,0,1,0,.444,2.592L20.406,22.555A1.483,1.483,0,0,0,21.481,23a1.546,1.546,0,0,0,1.074-.444L42.517,2.592A1.488,1.488,0,0,0,42.554.444Z" />
                    </svg>
                    
                  </ion-item>
                  <!--<ion-item (click)="openMoreReps()"> 
                    <span>More</span>
                  </ion-item>-->
                </ion-col>
              </ion-row>
            </ion-col>
          
          </ion-row>

          <div class="setdonecmplx">
            <ion-button [disabled]="isDoneDisabled" (click)="complexRoundComplete(complexActions)" > 
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38.535 26.569">
                <path id="Tick" d="M79.291,45.012a2.325,2.325,0,0,0-3.144,0L53.922,65.971l-8.727-8.21a2.325,2.325,0,0,0-3.144,0,2.006,2.006,0,0,0,0,2.958L52.3,70.357a2.242,2.242,0,0,0,1.572.612,2.339,2.339,0,0,0,1.572-.612l23.8-22.387A1.966,1.966,0,0,0,79.291,45.012Z" transform="translate(-41.4 -44.4)" />
              </svg>   
            </ion-button>
              
          </div>

        </ion-list>

        

      </div><!--End Complex Workout -->

    </div><!--END Plan Complete Workout Section-->
  
  </div><!-- END Today's Session Details-->


</ion-content>

    
   