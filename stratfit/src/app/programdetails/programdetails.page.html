<ion-header class=" head">
    <ion-toolbar class="hedfm"> 
      <ion-buttons  slot="start" >
        <ion-button slot="icon-only" (click)="backButtonAction()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.028 56">
              <path id="Back" d="M60.048,61.921a1.981,1.981,0,0,0,2.8,0,1.981,1.981,0,0,0,0-2.8L38.228,34.5,62.848,9.879a1.98,1.98,0,0,0-2.8-2.8L33.979,33.1a1.981,1.981,0,0,0,0,2.8Z" transform="translate(-33.4 -6.5)"/>
            </svg>
        </ion-button>
      </ion-buttons>

      <ion-title>{{planinfo.planName}}</ion-title>

      <ion-buttons  slot="end"  >
        <ion-button slot="icon-only" class="info" (click)="showPlanInfo()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60.001" >
                  <g id="Information" transform="translate(-961.535 -2448.597)">
                      <g id="Path_256" data-name="Path 256" transform="translate(958.135 2444.998)" fill="none">
                      <path d="M33.423,60.6A27,27,0,1,0,6.4,33.6,27.008,27.008,0,0,0,33.423,60.6Z" stroke="none"/>
                      <path class="cls-1" d="M 33.42325973510742 60.60013580322266 C 48.30698013305664 60.60013580322266 60.40000152587891 48.49665832519531 60.40000152587891 33.60006713867188 C 60.40000152587891 18.70348739624023 48.30698013305664 6.600007057189941 33.42325973510742 6.600007057189941 C 18.53953170776367 6.600007057189941 6.400001525878906 18.70348739624023 6.400001525878906 33.60006713867188 C 6.400001525878906 48.49665832519531 18.53953170776367 60.60013580322266 33.42325973510742 60.60013580322266 M 33.42325973510742 63.60013580322266 C 16.86838150024414 63.60013580322266 3.400001525878906 50.14215850830078 3.400001525878906 33.60006713867188 C 3.400001525878906 17.0579776763916 16.86838150024414 3.600007057189941 33.42325973510742 3.600007057189941 C 37.46554183959961 3.600007057189941 41.39013290405273 4.394607067108154 45.08803176879883 5.961737155914307 C 48.65693283081055 7.474206924438477 51.86236190795898 9.638127326965332 54.61526107788086 12.39341735839844 C 57.36799240112305 15.14852714538574 59.52986145019531 18.35639762878418 61.04083251953125 21.92793655395508 C 62.60626220703125 25.62821769714355 63.40000152587891 29.5552864074707 63.40000152587891 33.60006713867188 C 63.40000152587891 37.64484786987305 62.60626220703125 41.57191848754883 61.04083251953125 45.27219772338867 C 59.52986145019531 48.8437385559082 57.36799240112305 52.05161666870117 54.61526107788086 54.80672836303711 C 51.86236190795898 57.56201553344727 48.65693283081055 59.72593688964844 45.08803176879883 61.23840713500977 C 41.39014053344727 62.80553817749023 37.46554183959961 63.60013580322266 33.42325973510742 63.60013580322266 Z" stroke="none"/>
                      </g>
                      <path id="Union_4" data-name="Union 4" d="M-4979.315,16966.324a1.738,1.738,0,0,1-1.758-1.76,1.737,1.737,0,0,1,1.758-1.758h4.028v-13.725h-4.028a1.737,1.737,0,0,1-1.758-1.758,1.737,1.737,0,0,1,1.758-1.758h5.744a1.737,1.737,0,0,1,1.758,1.758v15.482h4.033a1.737,1.737,0,0,1,1.758,1.758,1.738,1.738,0,0,1-1.758,1.76Zm.558-26.508a2.825,2.825,0,0,1,2.828-2.826,3.45,3.45,0,0,1,.753.1,2.747,2.747,0,0,1,2.078,2.729,2.83,2.83,0,0,1-2.832,2.832A2.826,2.826,0,0,1-4978.758,16939.816Z" transform="translate(5966.159 -14473.979)" />
                  </g>
              </svg>
        </ion-button>
      </ion-buttons>
    </ion-toolbar> 
  
  </ion-header>



<ion-content class="store sview" >

  <ion-card class="nobg" >
      <ion-row class="pcover rmcov">
          <!-- <img src={{planinfo.planPhoto}} class="planimg" *ngIf="planinfo.planPhoto !='' && planinfo.planPhoto !=null" (click)="playVideo(planinfo.id)">
          <img src="assets/images/plan_2.png" class="planimg" *ngIf="planinfo.planPhoto =='' || planinfo.planPhoto ==null" (click)="playVideo(planinfo.id)">
          <img src="assets/images/plan_2.png" (click)="playVideo(planinfo.id)"> -->
          <img src="{{planinfo.plancover}}" class="planimg" (error)="onImageError()"  *ngIf="planinfo.planPhoto !='' && planinfo.planPhoto !=null" >
          <img src="assets/images/plan_2.png" class="planimg" *ngIf="planinfo.planPhoto =='' || planinfo.planPhoto ==null" >
           <div class="play" *ngIf="isShowIcon" (click)="playVideo(planinfo.id)">
              <svg id="Play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                  <path id="Path_256" data-name="Path 256" d="M56.443,106.6A50,50,0,1,0,6.4,56.6,50.014,50.014,0,0,0,56.443,106.6Z" transform="translate(-6.4 -6.6)" fill="none"  />
                  <path id="Path_257" data-name="Path 257" d="M0,29.143H36.744L18.377,0Z" transform="translate(69.389 31.621) rotate(90)" fill="#80B419 " fill-rule="evenodd"/>
              </svg>                                          
            </div>
          
      </ion-row>
      <ion-item class="poverlay nobg">
          
          <!-- <h2>{{planinfo.planName}}</h2>-->
          <ion-row class="prow">
              <ion-col> 
                  <em>{{planinfo.duration_weeks}} Weeks - {{planinfo.planType}}</em>
                  <ion-avatar class="sbgw" > 
                      <img src="{{planinfo.createdBy_id__avatar}}" (error)="onAvatarError()" />
                  </ion-avatar>
                  <h6>{{planinfo.createdBy_id__first_name}}</h6>
              </ion-col>
              
              <ion-col text-right>
                  <span *ngIf='!planSet && planinfo.price !="Free"'>Free</span>
                  <span [innerHTML]="planinfo.price"></span>
                  <em class="pformonth" *ngIf="planinfo.price !='Free'">/mo</em>
              <em>
                  <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 36.472 34.953">
                  <path id="Path_8058" data-name="Path 8058" d="M65.224,19.749a2.719,2.719,0,0,0-1.507-4.638L54.694,13.8a.544.544,0,0,1-.409-.3L50.249,5.326a2.719,2.719,0,0,0-4.877,0L41.337,13.5a.544.544,0,0,1-.41.3L31.9,15.11A2.719,2.719,0,0,0,30.4,19.749l6.529,6.364a.544.544,0,0,1,.156.481L35.542,35.58a2.72,2.72,0,0,0,3.946,2.867l8.07-4.243a.544.544,0,0,1,.506,0l8.07,4.243a2.719,2.719,0,0,0,3.945-2.867l-1.541-8.986a.544.544,0,0,1,.156-.481Zm-8.829,7.213,1.541,8.986a.544.544,0,0,1-.789.573l-8.07-4.243a2.719,2.719,0,0,0-2.531,0l-8.07,4.243a.544.544,0,0,1-.789-.573l1.541-8.986a2.719,2.719,0,0,0-.782-2.407l-6.529-6.364a.544.544,0,0,1,.3-.928l9.022-1.311a2.719,2.719,0,0,0,2.048-1.488l4.035-8.176a.544.544,0,0,1,.975,0h0l4.035,8.176a2.719,2.719,0,0,0,2.047,1.488L63.4,17.263a.544.544,0,0,1,.3.928l-6.529,6.364A2.719,2.719,0,0,0,56.394,26.962Z" transform="translate(-29.575 -3.81)" />
                  </svg> 
                  {{planinfo.planlikesCount}}
              </em>
              <em>
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" >
                  <path d="M480.6,341.4c-11.3,0-20.4,9.1-20.4,20.4v98.4H51.8v-98.4c0-11.3-9.1-20.4-20.4-20.4c-11.3,0-20.4,9.1-20.4,20.4v118.8    c0,11.3,9.1,20.4,20.4,20.4h449.2c11.3,0,20.4-9.1,20.4-20.4V361.8C501,350.5,491.9,341.4,480.6,341.4z"/>
                  <path d="m241,365.6c11.5,11.6 25.6,5.2 29.9,0l117.3-126.2c7.7-8.3 7.2-21.2-1.1-28.9-8.3-7.7-21.2-7.2-28.8,1.1l-81.9,88.1v-265.2c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v265.3l-81.9-88.1c-7.7-8.3-20.6-8.7-28.9-1.1-8.3,7.7-8.7,20.6-1.1,28.9l117.3,126.1z"/>
                  </svg>
                  {{planinfo.planUsers}}
              </em>
              </ion-col>
          </ion-row>
      </ion-item>
  </ion-card>

  <div class="fulpad programview">
      <h2>Abilities</h2>
      <p>{{planinfo.planPurpose}}</p>

      <ion-row>
        <ion-col>
          <h4>Duration</h4>
          <p>{{planinfo.duration_weeks}} Weeks</p>
        </ion-col>

        <ion-col>
          <h4>Days</h4>
          <p>{{planinfo.num_of_sessions}} per week</p>
        </ion-col>

        <ion-col>
          <h4>Level</h4>
          <p>{{planinfo.planType}}</p>
        </ion-col>
      </ion-row>
      
      
      <ion-row class="proflow">

              <div class="execis" ><!-- *ngFor="let Micro of microCycleData;  let i = index" -->
                  <h3>Exercises <em>({{planinfo.exercises.length}})</em></h3>
                  <ion-row>
                      <ion-col col-6  *ngFor="let Exs of planinfo.exercises;  let j = index" (click)="openExercise(Exs)">
                          <div class="sbgw exeblk" >
                              <ion-avatar  >
                                  <img src="{{Exs.newExImage}}" (error)="onExImageError(Exs)"> 
                              </ion-avatar>
                              <em>{{Exs.exercise_id__exerciseName}}</em>
                              <div class="posabs">
                                  <svg id="Play" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                                      <path id="Path_256" data-name="Path 256" d="M56.443,106.6A50,50,0,1,0,6.4,56.6,50.014,50.014,0,0,0,56.443,106.6Z" transform="translate(-6.4 -6.6)" fill="none"  />
                                      <path id="Path_257" data-name="Path 257" d="M0,29.143H36.744L18.377,0Z" transform="translate(69.389 31.621) rotate(90)" fill="#80B419 " fill-rule="evenodd"/>
                                  </svg>                                          
                              </div>
                          </div>
                      </ion-col>                        
                  </ion-row>
              </div>
          
      </ion-row>

      <h2>Purpose</h2>
      <ion-row class="purpose">
          <p>{{planinfo.plan_goals}}</p>
      </ion-row>

<ion-footer class="foot ">
  <ion-row class="btnrow">
      <ion-button [hidden]="planinfo.activestatus" (click)="planSubscription()">
          <span *ngIf="planinfo.activestatus">Active</span>
          <span *ngIf="planinfo.fucturestatus">Activated</span>
          <span *ngIf="!planinfo.activestatus && !planinfo.fucturestatus">Activate</span>
      </ion-button>  
      <ion-button [hidden]="!planinfo.activestatus" (click)="dashboardpage()">
              
          <span *ngIf="planinfo.activestatus">Dashboard</span>
            
      </ion-button>  
  </ion-row>
</ion-footer>